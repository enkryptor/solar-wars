# 1. Когда писать ADR

ADR (Architecture Decision Record) — документ для фиксации архитектурного решения, принятого
в процессе развития продукта. В ADR не фиксируются технические детали реализации, а также
основополагающие решения, которые были приняты на старте и не будут изменены (например,
выбор фреймворка).

Создание новой ADR имеет смысл в следующих случаях:
- Происходит выбор стандартов взаимодействия между компонентами
- Принятое решение повлияет на реализацию новых фич
- Фича имеет несколько вариантов подхода к реализации, и выбор конкретного варианта не очевиден
- Возникла необходимость изменения, ведущая к переработке уже написанного кода
- В процессе обсуждения задачи начались споры о выборе из взаимоисключающих вариантов
- ... (список будет дополняться на прецедентной основе)

Новую ADR **не** нужно создавать, если:
- Информация в ней будет дублироваться с той, которая уже была зафиксирована (например, в swagger)

Для добавления ADR корректного формата рекомендуется использовать
утилиту [adr](https://www.npmjs.com/package/adr) (установлена в dev зависимостях).

**Команда для добавления новой ADR:**

```sh
npx adr new "Заголовок ADR"
```

Сами ADR представляют себя текстовые файлы формата markdown, которые можно править в любом редакторе.

Редактирование существующих ADR должно происходить согласно принципу открытости-закрытости. То есть,
мы можем дополнять существующие ADR новыми пунктами или править опечатки/форматирование, но не
должны менять суть уже написанного

Если же новые принятые решения начинают противоречить записанным ранее, мы
описываем их в новой ADR, старую оставляем но отмечаем словом "устарело" в заголовке.
